<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recuerdos Especiales</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            overflow: hidden;
            height: 100vh;
            position: relative;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #8e44ad 0%, #9b59b6 50%, #7d3c98 100%);
        }

        /* Video de fondo para pantalla de mensaje */
        #videoFondo {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 0;
            display: none;
        }

        /* Pantalla de Login */
        #loginScreen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10;
            transition: opacity 0.5s ease;
            background: white;
        }

        /* Galer√≠a de fotos y videos de fondo con blur */
        .galeria-fondo {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            grid-auto-rows: 200px;
            gap: 10px;
            padding: 20px;
            overflow: hidden;
            filter: blur(15px);
            transition: filter 1s ease;
        }

        .galeria-fondo.desblureado {
            filter: blur(0px);
        }

        .galeria-fondo img,
        .galeria-fondo video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 10px;
        }

        /* Animaci√≥n en cascada para m√≥viles */
        @media (max-width: 768px) {
            .galeria-fondo {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                grid-auto-rows: 150px;
                gap: 8px;
                padding: 10px;
            }

            .galeria-fondo img,
            .galeria-fondo video {
                animation: cascadaInfinita 3s ease-in-out infinite;
            }

            @keyframes cascadaInfinita {
                0% {
                    opacity: 0.4;
                    transform: translateY(-20px) scale(0.95);
                }
                50% {
                    opacity: 1;
                    transform: translateY(0px) scale(1);
                }
                100% {
                    opacity: 0.4;
                    transform: translateY(20px) scale(0.95);
                }
            }
        }

        /* Para desktop - animaci√≥n simple */
        @media (min-width: 769px) {
            .galeria-fondo img,
            .galeria-fondo video {
                opacity: 0;
                animation: fadeInDesktop 0.8s ease forwards;
            }

            @keyframes fadeInDesktop {
                to {
                    opacity: 1;
                }
            }
        }

        .login-container {
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            text-align: center;
            max-width: 550px;
            width: 90%;
            backdrop-filter: blur(10px);
            z-index: 20;
            position: relative;
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        .login-container.oculto {
            opacity: 0;
            transform: scale(0.8);
            pointer-events: none;
        }

        /* Bot√≥n Continuemos Pimpo */
        .boton-continuemos {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 30;
            padding: 25px 60px;
            font-size: 1.5em;
            background: linear-gradient(135deg, #8e44ad, #9b59b6);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 10px 40px rgba(142, 68, 173, 0.5);
            transition: all 0.3s;
            animation: aparecer 1s ease forwards;
            opacity: 0;
        }

        @keyframes aparecer {
            to {
                opacity: 1;
            }
        }

        .boton-continuemos:hover {
            transform: translate(-50%, -50%) scale(1.1);
            box-shadow: 0 15px 50px rgba(142, 68, 173, 0.7);
        }

        .boton-continuemos:active {
            transform: translate(-50%, -50%) scale(0.95);
        }

        .boton-continuemos.visible {
            display: block;
        }

        .login-container h1 {
            color: #8e44ad;
            margin-bottom: 30px;
            font-size: 2em;
            text-align: center;
            width: 100%;
            white-space: nowrap;
        }

        .login-container input {
            width: 100%;
            padding: 15px;
            margin-bottom: 20px;
            border: 2px solid #9b59b6;
            border-radius: 10px;
            font-size: 1em;
            outline: none;
            transition: border-color 0.3s;
        }

        .login-container input:focus {
            border-color: #8e44ad;
        }

        .login-container button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #8e44ad, #9b59b6);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .login-container button:hover {
            transform: scale(1.05);
        }

        .login-container button:active {
            transform: scale(0.98);
        }

        .error-message {
            color: #e74c3c;
            margin-top: 10px;
            font-size: 0.9em;
            min-height: 20px;
        }

        .hint {
            color: #f39c12;
            margin-top: 15px;
            font-size: 1em;
            font-weight: bold;
            padding: 15px;
            background: rgba(243, 156, 18, 0.1);
            border-radius: 10px;
            border-left: 4px solid #f39c12;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.7;
            }
        }

        /* Pantalla del Mensaje del Coraz√≥n */
        #mensajeScreen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10;
            padding: 20px;
            transition: opacity 0.5s ease;
        }

        #mensajeScreen.active {
            display: flex;
        }

        .corazon-container {
            position: relative;
            width: 400px;
            height: 400px;
            display: flex;
            justify-content: center;
            align-items: center;
            animation: fadeInScale 1s ease;
        }

        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.5);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .corazon-grande {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .corazon-punto {
            position: absolute;
            font-size: 16px;
            color: white;
            opacity: 0.9;
        }

        .mensaje-texto {
            position: relative;
            z-index: 10;
            color: white;
            font-size: 1.2em;
            text-align: center;
            font-weight: bold;
            max-width: 240px;
            line-height: 1.4;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            padding: 15px;
        }

        .boton-presioname {
            margin-top: 50px;
            padding: 20px 50px;
            font-size: 1.3em;
            background: linear-gradient(135deg, #ff1744, #ff5252);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 5px 20px rgba(255, 23, 68, 0.4);
            transition: all 0.3s;
            animation: pulse 2s infinite;
        }

        .boton-presioname:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 30px rgba(255, 23, 68, 0.6);
        }

        .boton-presioname:active {
            transform: scale(0.95);
        }

        /* Pantalla de Recuerdos */
        #recuerdosScreen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 5;
            padding: 20px;
            background: linear-gradient(135deg, #8e44ad 0%, #9b59b6 50%, #7d3c98 100%);
            opacity: 1;
            transition: opacity 0.5s ease;
        }

        #recuerdosScreen.active {
            display: flex;
        }

        .recuerdos-header {
            color: white;
            font-size: 2.5em;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            animation: fadeInDown 1s ease;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Texto de instrucciones */
        .instrucciones-recuerdos {
            text-align: center;
            margin-top: -20px;
            margin-bottom: 20px;
            max-width: 90%;
            margin-left: auto;
            margin-right: auto;
        }

        .nota-simple {
            color: rgba(0, 0, 0, 0.7);
            font-size: 0.9em;
            margin: 5px 0;
        }

        .nota-llamativa {
            color: #ff1744;
            font-size: 1.1em;
            font-weight: bold;
            margin: 10px auto;
            text-shadow: 2px 2px 4px rgba(255, 23, 68, 0.3);
            animation: parpadeo 2s ease-in-out infinite;
            background: rgba(255, 255, 255, 0.9);
            padding: 8px 15px;
            border-radius: 10px;
            display: inline-block;
            max-width: 95%;
            word-wrap: break-word;
        }

        @keyframes parpadeo {
            0%, 100% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                opacity: 0.7;
                transform: scale(1.05);
            }
        }

        .carousel-container {
            width: 90%;
            max-width: 900px;
            height: 70vh;
            position: relative;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            background: rgba(0, 0, 0, 0.3);
        }

        .carousel-item {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.5s ease;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .carousel-item.active {
            opacity: 1;
        }

        .carousel-item img,
        .carousel-item video {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 15px;
        }

        .carousel-item video {
            width: 100%;
            height: 100%;
        }

        .carousel-controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 20;
        }

        .carousel-btn {
            background: rgba(255, 255, 255, 0.8);
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
            color: #8e44ad;
            font-weight: bold;
        }

        .carousel-btn:hover {
            background: rgba(255, 255, 255, 1);
            transform: scale(1.1);
        }

        .carousel-indicators {
            position: absolute;
            bottom: 70px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
            z-index: 20;
        }

        .indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: all 0.3s;
        }

        .indicator.active {
            background: white;
            transform: scale(1.3);
        }

        /* Bot√≥n Historia */
        .boton-historia {
            margin-top: 20px;
            padding: 15px 40px;
            font-size: 1.2em;
            background: linear-gradient(135deg, #8e44ad, #9b59b6);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 5px 20px rgba(142, 68, 173, 0.4);
            transition: all 0.3s;
            max-width: 90%;
        }

        .boton-historia:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 30px rgba(142, 68, 173, 0.6);
        }

        .boton-historia:active {
            transform: scale(0.95);
        }

        /* Pantalla de Historia */
        #historiaScreen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            z-index: 15;
            padding: 20px;
            padding-top: 40px;
            background: linear-gradient(135deg, #8e44ad 0%, #9b59b6 50%, #7d3c98 100%);
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        #historiaScreen.active {
            display: flex;
        }

        .historia-header {
            color: white;
            font-size: 2.5em;
            margin-bottom: 40px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            animation: fadeInDown 1s ease;
        }

        .historia-item {
            width: 90%;
            max-width: 700px;
            margin-bottom: 80px;
            text-align: center;
            animation: fadeInScale 1s ease;
        }

        .historia-texto {
            color: white;
            font-size: 1.6em;
            font-weight: bold;
            margin-bottom: 25px;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.8);
            padding: 20px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .historia-media {
            width: 100%;
            max-width: 600px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            margin: 0 auto;
        }

        .historia-media img {
            width: 100%;
            max-height: 500px;
            border-radius: 20px;
            object-fit: contain;
        }

        .historia-media video {
            width: 100%;
            max-height: 400px;
            border-radius: 20px;
            object-fit: contain;
        }

        .boton-volver {
            margin-top: 30px;
            margin-bottom: 20px;
            padding: 15px 40px;
            font-size: 1.1em;
            background: rgba(255, 255, 255, 0.9);
            color: #8e44ad;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            max-width: 90%;
        }

        .boton-volver:hover {
            transform: scale(1.1);
            background: white;
        }

        .boton-volver:active {
            transform: scale(0.95);
        }

        /* Recuadro del coraz√≥n */
        .corazon-mensaje {
            width: 90%;
            max-width: 700px;
            margin: 60px auto 50px;
            padding: 30px;
            background: linear-gradient(135deg, rgba(255, 23, 68, 0.2), rgba(255, 82, 82, 0.2));
            border: 3px solid rgba(255, 255, 255, 0.5);
            border-radius: 25px;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.4);
            animation: fadeInScale 1.2s ease;
        }

        .corazon-mensaje p {
            color: white;
            font-size: 1.4em;
            line-height: 1.8;
            text-align: center;
            text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.7);
            margin: 0;
            font-style: italic;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .corazon-icono {
            text-align: center;
            font-size: 3em;
            margin-bottom: 20px;
            animation: pulse 2s infinite;
        }

        /* ============================================ */
        /* RESPONSIVE DESIGN PARA DISPOSITIVOS M√ìVILES */
        /* ============================================ */
        
        @media (max-width: 768px) {
            /* Login container */
            .login-container {
                padding: 25px;
                max-width: 90%;
                width: 95%;
            }

            .login-container h1 {
                font-size: 1.4em;
                margin-bottom: 20px;
                white-space: normal;
            }

            .login-container input {
                padding: 12px;
                font-size: 0.95em;
                margin-bottom: 15px;
            }

            .login-container button {
                padding: 12px;
                font-size: 1em;
            }

            .hint {
                font-size: 0.9em;
                padding: 12px;
                margin-top: 12px;
            }

            /* Bot√≥n Continuemos */
            .boton-continuemos {
                padding: 18px 40px;
                font-size: 1.2em;
                max-width: 80%;
            }

            .boton-continuemos:hover {
                transform: translate(-50%, -50%) scale(1.05);
            }

            /* Pantalla del mensaje del coraz√≥n */
            .corazon-container {
                width: 280px;
                height: 280px;
            }

            .corazon-punto {
                font-size: 12px;
            }

            .mensaje-texto {
                font-size: 1em;
                max-width: 200px;
                padding: 10px;
                line-height: 1.3;
            }

            .boton-presioname {
                margin-top: 40px;
                padding: 15px 35px;
                font-size: 1.1em;
            }

            /* Pantalla de recuerdos */
            .recuerdos-header {
                font-size: 1.8em;
                margin-bottom: 20px;
            }

            .nota-llamativa {
                font-size: 1em;
                padding: 6px 12px;
            }

            .carousel-container {
                width: 95%;
                height: 60vh;
            }

            .carousel-btn {
                padding: 8px 15px;
                font-size: 0.9em;
            }

            .carousel-indicators {
                bottom: 60px;
                gap: 6px;
            }

            .indicator {
                width: 10px;
                height: 10px;
            }

            .carousel-controls {
                bottom: 15px;
                gap: 8px;
            }

            /* Historia responsive */
            .historia-header {
                font-size: 1.8em;
            }

            .historia-item {
                margin-bottom: 60px;
            }

            .historia-texto {
                font-size: 1.2em;
                padding: 12px;
            }

            .historia-media img {
                max-height: 400px;
            }

            .historia-media video {
                max-height: 300px;
            }

            .boton-historia {
                font-size: 1em;
                padding: 12px 30px;
            }

            .corazon-mensaje {
                padding: 20px;
                margin: 40px auto 40px;
            }

            .corazon-mensaje p {
                font-size: 1.1em;
                line-height: 1.6;
            }

            .corazon-icono {
                font-size: 2.5em;
            }
        }

        /* Para pantallas muy peque√±as (m√≥viles en vertical) */
        @media (max-width: 480px) {
            .login-container h1 {
                font-size: 1.2em;
            }

            .boton-continuemos {
                padding: 15px 30px;
                font-size: 1em;
            }

            .corazon-container {
                width: 240px;
                height: 240px;
            }

            .corazon-punto {
                font-size: 10px;
            }

            .mensaje-texto {
                font-size: 0.9em;
                max-width: 180px;
            }

            .boton-presioname {
                padding: 12px 28px;
                font-size: 1em;
            }

            .recuerdos-header {
                font-size: 1.5em;
                margin-bottom: 15px;
            }

            .nota-llamativa {
                font-size: 0.9em;
                padding: 5px 10px;
            }

            .nota-simple {
                font-size: 0.85em;
            }

            .carousel-container {
                height: 55vh;
            }

            .carousel-btn {
                padding: 6px 12px;
                font-size: 0.85em;
            }

            .historia-header {
                font-size: 1.5em;
            }

            .historia-item {
                margin-bottom: 50px;
            }

            .historia-texto {
                font-size: 1em;
                padding: 10px;
            }

            .historia-media img {
                max-height: 350px;
            }

            .historia-media video {
                max-height: 250px;
            }

            .boton-historia {
                font-size: 0.9em;
                padding: 10px 25px;
            }

            .corazon-mensaje {
                padding: 15px;
                margin: 30px auto 30px;
            }

            .corazon-mensaje p {
                font-size: 1em;
                line-height: 1.5;
            }

            .corazon-icono {
                font-size: 2em;
                margin-bottom: 15px;
            }
        }

        /* Para pantallas horizontales en m√≥viles (landscape) */
        @media (max-width: 768px) and (orientation: landscape) {
            .corazon-container {
                width: 240px;
                height: 240px;
            }

            .carousel-container {
                height: 75vh;
            }

            .recuerdos-header {
                font-size: 1.6em;
                margin-bottom: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Video de fondo -->
    <video id="videoFondo" loop playsinline>
        <source src="Recursos/WhatsApp Video 2025-11-05 at 7.40.46 AM.mp4" type="video/mp4">
    </video>

    <!-- Pantalla de Login -->
    <div id="loginScreen">
        <!-- Galer√≠a de fotos borrosas de fondo -->
        <div class="galeria-fondo" id="galeriaFondo"></div>
        
        <!-- Contenedor de login -->
        <div class="login-container" id="loginContainer">
            <h1>üíú Solo tu puedes entrar üíú</h1>
            <input type="text" id="nombreInput" placeholder="Ingresa tu nombre" autocomplete="off">
            <button onclick="verificarNombre()">Entrar</button>
            <div class="error-message" id="errorMessage"></div>
            <div class="hint" id="hint">
                Pista: Nuestro Apodo
            </div>
        </div>

        <!-- Bot√≥n Continuemos Pimpo (oculto inicialmente) -->
        <button class="boton-continuemos" id="botonContinuemos" onclick="continuarAMensaje()">
            Continuemos pimpo
        </button>
    </div>

    <!-- Pantalla del Mensaje del Coraz√≥n -->
    <div id="mensajeScreen">
        <div class="corazon-container">
            <div class="corazon-grande" id="corazonGrande"></div>
            <div class="mensaje-texto">
                Para empezar con alguien nuevo yo prefiero contigo de nuevo algo empezar
            </div>
        </div>
        <button class="boton-presioname" onclick="irAlCarrusel()">Presi√≥neme</button>
    </div>

    <!-- Pantalla de Recuerdos -->
    <div id="recuerdosScreen">
        <h1 class="recuerdos-header">üíñ Recuerdos üíñ</h1>
        <div class="instrucciones-recuerdos">
            <p class="nota-simple">nota: sube el volumen y disfruta</p>
            <p class="nota-llamativa">üìñ ¬°Luego presiona "Historia" para continuar! üìñ</p>
        </div>
        <div class="carousel-container">
            <div id="carouselItems"></div>
            <div class="carousel-indicators" id="indicators"></div>
            <div class="carousel-controls">
                <button class="carousel-btn" onclick="previousItem()">‚ùÆ Anterior</button>
                <button class="carousel-btn" onclick="nextItem()">Siguiente ‚ùØ</button>
            </div>
        </div>
        <button class="boton-historia" onclick="irAHistoria()">üìñ Historia</button>
    </div>

    <!-- Pantalla de Historia -->
    <div id="historiaScreen">
        <h1 class="historia-header">üìñ Nuestra Historia üìñ</h1>
        
        <div class="historia-item">
            <div class="historia-texto">El inicio de nuestra historia</div>
            <div class="historia-media">
                <img src="Historia/1.jpeg" alt="Historia 1">
            </div>
        </div>

        <div class="historia-item">
            <div class="historia-texto">nuestros primeros momentos juntos</div>
            <div class="historia-media">
                <video controls muted>
                    <source src="Historia/2.mp4" type="video/mp4">
                </video>
            </div>
        </div>

        <div class="historia-item">
            <div class="historia-texto">Nuestras primeras Aventuras</div>
            <div class="historia-media">
                <img src="Historia/3.jpeg" alt="Historia 3">
            </div>
        </div>

        <div class="historia-item">
            <div class="historia-media">
                <img src="Historia/4.jpeg" alt="Historia 4">
            </div>
        </div>

        <div class="historia-item">
            <div class="historia-media">
                <img src="Historia/5.jpeg" alt="Historia 5">
            </div>
        </div>

        <!-- Recuadro del mensaje del coraz√≥n -->
        <div class="corazon-mensaje">
            <div class="corazon-icono">üíñ</div>
            <p>Permite que las pimpo aventuras y el pimpo amor continue un poco mas, esta vez podremos hacer las cosas de un modo diferente y sentirno aun mejor de lo que nos sentiamos antes.</p>
        </div>

        <button class="boton-volver" onclick="volverDeHistoria()">‚¨Ö Volver</button>
    </div>

    <!-- M√∫sica de fondo para el carrusel -->
    <audio id="musicaFondo" loop>
        <source src="Musica/Be√©le & Ovy On The Drums - Inolvidable (Official Video).mp3" type="audio/mpeg">
    </audio>

    <script>
        // Nombres permitidos
        const nombresPermitidos = ['pimpo', 'alejandra'];
        let intentosFallidos = 0;
        let currentIndex = 0;
        let mediaItems = [];
        let autoplayInterval = null;

        // Lista de todas las im√°genes y videos para mostrar en el login
        const mediaGaleria = [
            // Im√°genes
            'Mostrarprincipal/WhatsApp Image 2025-11-05 at 8.57.53 AM.jpeg',
            'Mostrarprincipal/WhatsApp Image 2025-11-05 at 8.57.58 AM (1).jpeg',
            'Mostrarprincipal/WhatsApp Image 2025-11-05 at 8.57.58 AM (2).jpeg',
            'Mostrarprincipal/WhatsApp Image 2025-11-05 at 8.57.58 AM (3).jpeg',
            'Mostrarprincipal/WhatsApp Image 2025-11-05 at 8.57.58 AM.jpeg',
            'Mostrarprincipal/WhatsApp Image 2025-11-05 at 8.57.59 AM.jpeg',
            'Mostrarprincipal/WhatsApp Image 2025-11-05 at 8.58.00 AM (1).jpeg',
            'Mostrarprincipal/WhatsApp Image 2025-11-05 at 8.58.00 AM (2).jpeg',
            'Mostrarprincipal/WhatsApp Image 2025-11-05 at 8.58.00 AM.jpeg',
            'Mostrarprincipal/WhatsApp Image 2025-11-05 at 8.58.04 AM.jpeg',
            'Mostrarprincipal/WhatsApp Image 2025-11-05 at 8.58.07 AM.jpeg',
            // Videos
            'Mostrarprincipal/WhatsApp Video 2025-11-05 at 8.57.53 AM.mp4',
            'Mostrarprincipal/WhatsApp Video 2025-11-05 at 8.57.54 AM.mp4',
            'Mostrarprincipal/WhatsApp Video 2025-11-05 at 8.57.55 AM.mp4',
            'Mostrarprincipal/WhatsApp Video 2025-11-05 at 8.57.56 AM.mp4',
            'Mostrarprincipal/WhatsApp Video 2025-11-05 at 8.57.58 AM.mp4',
            'Mostrarprincipal/WhatsApp Video 2025-11-05 at 8.57.59 AM.mp4',
            'Mostrarprincipal/WhatsApp Video 2025-11-05 at 8.58.01 AM.mp4',
            'Mostrarprincipal/WhatsApp Video 2025-11-05 at 8.58.02 AM.mp4',
            'Mostrarprincipal/WhatsApp Video 2025-11-05 at 8.58.04 AM.mp4',
            'Mostrarprincipal/WhatsApp Video 2025-11-05 at 8.58.05 AM.mp4',
            'Mostrarprincipal/WhatsApp Video 2025-11-05 at 8.58.06 AM.mp4'
        ];

        // Detectar si es dispositivo m√≥vil
        function esMobile() {
            return window.innerWidth <= 768;
        }

        // Cargar galer√≠a de fotos y videos borrosos
        function cargarGaleriaFondo() {
            const galeriaFondo = document.getElementById('galeriaFondo');
            const mobile = esMobile();
            
            mediaGaleria.forEach((media, index) => {
                let elemento;
                
                if (media.endsWith('.jpeg') || media.endsWith('.jpg')) {
                    // Es una imagen
                    const img = document.createElement('img');
                    img.src = media;
                    img.alt = `Media ${index + 1}`;
                    img.onerror = function() {
                        console.warn(`No se pudo cargar: ${media}`);
                    };
                    elemento = img;
                } else if (media.endsWith('.mp4')) {
                    // Es un video
                    const video = document.createElement('video');
                    video.src = media;
                    video.loop = true;
                    video.muted = true; // Sin audio
                    video.autoplay = true;
                    video.playsInline = true;
                    video.onerror = function() {
                        console.warn(`No se pudo cargar: ${media}`);
                    };
                    elemento = video;
                }
                
                // Aplicar delay en cascada para crear efecto de onda continua
                if (mobile && elemento) {
                    // Cada elemento tiene un delay diferente para el efecto cascada
                    elemento.style.animationDelay = `${(index * 0.15)}s`;
                } else if (elemento) {
                    // En desktop tambi√©n aplicar delay pero m√°s sutil
                    elemento.style.animationDelay = `${(index * 0.05)}s`;
                }
                
                if (elemento) {
                    galeriaFondo.appendChild(elemento);
                }
            });
        }

        // Crear coraz√≥n grande con corazones peque√±os
        function crearCorazonGrande() {
            const corazonGrande = document.getElementById('corazonGrande');
            // Coordenadas para formar un coraz√≥n (forma matem√°tica de coraz√≥n)
            const numCorazones = 50;
            
            for (let i = 0; i < numCorazones; i++) {
                const t = (i / numCorazones) * 2 * Math.PI;
                // Ecuaci√≥n param√©trica de un coraz√≥n
                const x = 16 * Math.pow(Math.sin(t), 3);
                const y = -(13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t));
                
                const corazon = document.createElement('div');
                corazon.className = 'corazon-punto';
                corazon.innerHTML = '‚ù§';
                corazon.style.left = `${50 + x * 6.5}%`;
                corazon.style.top = `${50 + y * 6.5}%`;
                corazon.style.animationDelay = `${i * 0.05}s`;
                
                corazonGrande.appendChild(corazon);
            }
        }

        // Verificar nombre
        function verificarNombre() {
            const nombreInput = document.getElementById('nombreInput');
            const errorMessage = document.getElementById('errorMessage');
            const nombre = nombreInput.value.trim().toLowerCase();

            if (nombresPermitidos.includes(nombre)) {
                // Nombre correcto - Desblurear fotos y mostrar bot√≥n
                const galeriaFondo = document.getElementById('galeriaFondo');
                const loginContainer = document.getElementById('loginContainer');
                const botonContinuemos = document.getElementById('botonContinuemos');

                // Desblurear las fotos
                galeriaFondo.classList.add('desblureado');
                
                // Ocultar el formulario de login
                loginContainer.classList.add('oculto');
                
                // Mostrar el bot√≥n "Continuemos pimpo"
                setTimeout(() => {
                    botonContinuemos.classList.add('visible');
                }, 500); // Espera medio segundo para mejor efecto
            } else {
                // Nombre incorrecto
                intentosFallidos++;
                errorMessage.textContent = 'Nombre no reconocido. Intenta de nuevo.';

                nombreInput.value = '';
                nombreInput.focus();
            }
        }

        // Continuar a la pantalla del mensaje
        function continuarAMensaje() {
            mostrarMensaje();
        }

        // Permitir Enter para enviar
        document.getElementById('nombreInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                verificarNombre();
            }
        });

        // Mostrar pantalla del mensaje del coraz√≥n
        function mostrarMensaje() {
            const loginScreen = document.getElementById('loginScreen');
            const mensajeScreen = document.getElementById('mensajeScreen');
            const videoFondo = document.getElementById('videoFondo');

            // Ocultar login
            loginScreen.style.opacity = '0';
            setTimeout(() => {
                loginScreen.style.display = 'none';
                mensajeScreen.classList.add('active');
                
                // Mostrar y reproducir el video de fondo
                if (videoFondo) {
                    videoFondo.style.display = 'block';
                    videoFondo.play().catch(err => {
                        console.log('Error al reproducir video de fondo:', err);
                    });
                }
                
                crearCorazonGrande();
            }, 500);
        }

        // Ir al carrusel desde la pantalla del mensaje
        async function irAlCarrusel() {
            const mensajeScreen = document.getElementById('mensajeScreen');
            const recuerdosScreen = document.getElementById('recuerdosScreen');
            const videoFondo = document.getElementById('videoFondo');
            const musicaFondo = document.getElementById('musicaFondo');

            // Detener el video de fondo
            if (videoFondo) {
                videoFondo.pause();
                videoFondo.style.display = 'none';
            }

            // Ocultar pantalla de mensaje
            mensajeScreen.style.opacity = '0';
            setTimeout(() => {
                mensajeScreen.style.display = 'none';
                recuerdosScreen.classList.add('active');
                
                // Iniciar la m√∫sica de fondo
                if (musicaFondo) {
                    musicaFondo.play().catch(err => {
                        console.log('No se pudo reproducir la m√∫sica:', err);
                    });
                }
            }, 500);

            // Cargar recursos
            await cargarRecursos();
        }

        // Cargar im√°genes y videos de la carpeta Recursos
        async function cargarRecursos() {
            const recursos = [
                // Im√°genes JPEG
                'Recursos/WhatsApp Image 2025-11-05 at 7.40.23 AM.jpeg',
                'Recursos/WhatsApp Image 2025-11-05 at 7.40.29 AM.jpeg',
                'Recursos/WhatsApp Image 2025-11-05 at 7.40.30 AM.jpeg',
                'Recursos/WhatsApp Image 2025-11-05 at 7.40.31 AM (1).jpeg',
                'Recursos/WhatsApp Image 2025-11-05 at 7.40.31 AM (2).jpeg',
                'Recursos/WhatsApp Image 2025-11-05 at 7.40.31 AM.jpeg',
                'Recursos/WhatsApp Image 2025-11-05 at 7.40.34 AM.jpeg',
                'Recursos/WhatsApp Image 2025-11-05 at 7.40.54 AM (1).jpeg',
                'Recursos/WhatsApp Image 2025-11-05 at 7.40.54 AM.jpeg',
                'Recursos/WhatsApp Image 2025-11-05 at 7.40.57 AM.jpeg',
                'Recursos/WhatsApp Image 2025-11-05 at 7.40.58 AM.jpeg',
                'Recursos/WhatsApp Image 2025-11-05 at 7.41.03 AM (1).jpeg',
                'Recursos/WhatsApp Image 2025-11-05 at 7.41.03 AM.jpeg',
                'Recursos/WhatsApp Image 2025-11-05 at 7.41.05 AM.jpeg',
                'Recursos/WhatsApp Image 2025-11-05 at 7.41.06 AM.jpeg',
                'Recursos/WhatsApp Image 2025-11-05 at 7.41.16 AM.jpeg',
                'Recursos/WhatsApp Image 2025-11-05 at 7.41.18 AM.jpeg',
                'Recursos/WhatsApp Image 2025-11-05 at 7.41.22 AM (1).jpeg',
                'Recursos/WhatsApp Image 2025-11-05 at 7.41.22 AM.jpeg',
                // Videos MP4
                'Recursos/WhatsApp Video 2025-11-05 at 7.40.28 AM.mp4',
                'Recursos/WhatsApp Video 2025-11-05 at 7.40.33 AM.mp4',
                'Recursos/WhatsApp Video 2025-11-05 at 7.40.46 AM.mp4',
                'Recursos/WhatsApp Video 2025-11-05 at 7.40.49 AM.mp4',
                'Recursos/WhatsApp Video 2025-11-05 at 7.40.52 AM.mp4',
                'Recursos/WhatsApp Video 2025-11-05 at 7.40.56 AM.mp4',
                'Recursos/WhatsApp Video 2025-11-05 at 7.41.02 AM.mp4',
                'Recursos/WhatsApp Video 2025-11-05 at 7.41.05 AM.mp4',
                'Recursos/WhatsApp Video 2025-11-05 at 7.41.09 AM.mp4'
            ];

            const carouselItems = document.getElementById('carouselItems');
            const indicators = document.getElementById('indicators');

            // Crear elementos del carrusel
            recursos.forEach((recurso, index) => {
                // Crear item del carrusel
                const item = document.createElement('div');
                item.className = 'carousel-item';
                if (index === 0) item.classList.add('active');

                // Determinar si es imagen o video
                if (recurso.endsWith('.jpeg') || recurso.endsWith('.jpg')) {
                    const img = document.createElement('img');
                    img.src = recurso;
                    img.alt = `Recuerdo ${index + 1}`;
                    img.onerror = function() {
                        console.warn(`No se pudo cargar: ${recurso}`);
                    };
                    item.appendChild(img);
                } else if (recurso.endsWith('.mp4')) {
                    const video = document.createElement('video');
                    video.src = recurso;
                    video.controls = true;
                    video.muted = true; // Sin audio
                    video.onerror = function() {
                        console.warn(`No se pudo cargar: ${recurso}`);
                    };
                    item.appendChild(video);
                }

                carouselItems.appendChild(item);
                mediaItems.push(item);

                // Crear indicador
                const indicator = document.createElement('div');
                indicator.className = 'indicator';
                if (index === 0) indicator.classList.add('active');
                indicator.onclick = () => goToItem(index);
                indicators.appendChild(indicator);
            });

            // Iniciar el primer item
            const firstItem = mediaItems[0];
            const firstVideo = firstItem?.querySelector('video');
            
            if (firstVideo) {
                // Si el primer item es un video, reproducirlo
                firstVideo.play().catch(err => {
                    console.log('Autoplay bloqueado:', err);
                });
                firstVideo.addEventListener('ended', videoTerminado);
            } else {
                // Si es una imagen, iniciar autoplay
            iniciarAutoplay();
            }
        }

        // Funci√≥n para mostrar un item espec√≠fico
        function goToItem(index) {
            if (index < 0 || index >= mediaItems.length) return;

            // Detener el autoplay anterior
            detenerAutoplay();

            // Detener video actual si existe
            const currentItem = mediaItems[currentIndex];
            const currentVideo = currentItem?.querySelector('video');
            if (currentVideo) {
                currentVideo.pause();
                currentVideo.currentTime = 0;
                currentVideo.removeEventListener('ended', videoTerminado);
            }

            // Actualizar √≠ndices
            currentIndex = index;

            // Actualizar items
            mediaItems.forEach((item, i) => {
                item.classList.toggle('active', i === index);
            });

            // Actualizar indicadores
            const indicators = document.querySelectorAll('.indicator');
            indicators.forEach((indicator, i) => {
                indicator.classList.toggle('active', i === index);
            });

            // Iniciar reproducci√≥n o autoplay seg√∫n el tipo
            const newItem = mediaItems[currentIndex];
            const newVideo = newItem?.querySelector('video');
            
            if (newVideo) {
                // Es un video - reproducir y esperar a que termine
                newVideo.play().catch(err => {
                    console.log('Autoplay bloqueado:', err);
                });
                // Agregar listener para cuando termine el video
                newVideo.addEventListener('ended', videoTerminado);
            } else {
                // Es una imagen - iniciar autoplay de 6 segundos
            iniciarAutoplay();
            }
        }

        // Funci√≥n para cuando un video termina
        function videoTerminado() {
            nextItem();
        }

        // Funci√≥n para siguiente item
        function nextItem() {
            goToItem((currentIndex + 1) % mediaItems.length);
        }

        // Funci√≥n para item anterior
        function previousItem() {
            goToItem((currentIndex - 1 + mediaItems.length) % mediaItems.length);
        }

        // Iniciar autoplay para im√°genes (6 segundos)
        function iniciarAutoplay() {
            detenerAutoplay();
            autoplayInterval = setInterval(() => {
                nextItem();
            }, 6000); // 6 segundos
        }

        // Detener autoplay
        function detenerAutoplay() {
            if (autoplayInterval) {
                clearInterval(autoplayInterval);
                autoplayInterval = null;
            }
        }

        // Navegaci√≥n con teclado
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('recuerdosScreen').classList.contains('active')) {
                if (e.key === 'ArrowLeft') {
                    previousItem();
                } else if (e.key === 'ArrowRight') {
                    nextItem();
                }
            }
        });

        // Ir a la pantalla de Historia
        function irAHistoria() {
            const recuerdosScreen = document.getElementById('recuerdosScreen');
            const historiaScreen = document.getElementById('historiaScreen');

            // Ocultar pantalla de recuerdos
            recuerdosScreen.style.opacity = '0';
            setTimeout(() => {
                recuerdosScreen.classList.remove('active');
                historiaScreen.classList.add('active');
                historiaScreen.style.opacity = '1';
                
                // Scroll al inicio de la secci√≥n Historia
                historiaScreen.scrollTop = 0;
                
                // Pausar todos los videos del carrusel
                const videos = recuerdosScreen.querySelectorAll('video');
                videos.forEach(video => {
                    video.pause();
                });
            }, 500);
        }

        // Volver de Historia a Recuerdos
        function volverDeHistoria() {
            const recuerdosScreen = document.getElementById('recuerdosScreen');
            const historiaScreen = document.getElementById('historiaScreen');

            // Ocultar pantalla de historia
            historiaScreen.style.opacity = '0';
            setTimeout(() => {
                historiaScreen.classList.remove('active');
                recuerdosScreen.classList.add('active');
                recuerdosScreen.style.opacity = '1';
                
                // Pausar videos de historia
                const historiaVideos = historiaScreen.querySelectorAll('video');
                historiaVideos.forEach(video => {
                    video.pause();
                    video.currentTime = 0;
                });
            }, 500);
        }

        // Inicializar al cargar la p√°gina
        window.addEventListener('DOMContentLoaded', function() {
            cargarGaleriaFondo();
        });
    </script>
</body>
</html>
